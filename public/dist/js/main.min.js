$(document).ready(function(){Ue=$(window),O=$("body"),document.documentElement.setAttribute("data-useragent",navigator.userAgent);var t=800;$("html").addClass("cl-preload"),Ue.on("load",function(){$("#loader").fadeOut("slow",function(){$("#preloader").delay(300).fadeOut("slow")}),$("html").removeClass("cl-preload"),$("html").addClass("cl-loaded")}),$(".smoothscroll").on("click",function(e){var s=$(this).attr("href"),o=$(s);e.preventDefault(),e.stopPropagation(),$("html, body").stop().animate({scrollTop:o.offset().top},t,"swing").promise().done(function(){$("body").hasClass("menu-is-open")&&$(".hamburger_menu").trigger("click"),window.location.hash=s})}),$("input, textarea, select").placeholder(),AOS.init({offset:200,duration:600,easing:"ease-in-sine",delay:300,once:!0,disable:"mobile"});var s=$(".dropNav"),e=$(".dropBtn"),o=$(".post_container"),c=$("#mainBody"),a=$(".create-icon");e.each(function(){$(this).click(function(){s.toggleClass("showDrop")})}),a.each(function(){$(this).click(function(){o.toggleClass("showPostBtns"),c.toggleClass("bodyBlur")})}),c.on("click",function(e){c.hasClass("bodyBlur")&&(e.preventDefault(),e.stopPropagation()),s.removeClass("showDrop"),o.removeClass("showPostBtns"),c.removeClass("bodyBlur")});var n=$(".statsNav");$(".statsBtn").each(function(){$(this).click(function(){n.toggleClass("showStats")})}),$(".loader_text-"+Math.floor(6*Math.random())).css({display:"block"}),Ue.on("load",function(){$(".loader_wrapper").delay(300).fadeOut("slow",function(){$(".loader_overlay").delay(300).fadeOut("slow")})}),Ue.on("load",function(){$(".projects_loader").delay(300).fadeOut("slow",function(){$(".loader_overlay").delay(300).fadeOut("slow")})});var i=$("#firstChar").text().substring(0,1);$(".first_char").html(i),$(".error__exit").click(function(){$(this).parent().remove()}),$(".go-back").click(function(){window.history.back()});var l=$(".topnav"),r=$(".success__msg"),d=$(".error__msg-4"),p=$(".drop_nav"),u=$(".hamburger_menu"),h=$(".nav_social"),m=$(".search-container.desktop_search"),v=$(".post_container");Ue.scroll(function(){50<=Ue.scrollTop()?(u.addClass("opaque"),l.addClass("shadow"),r.addClass("changeTop"),d.addClass("changeTop"),p.addClass("dropNavTop"),h.addClass("dis-none"),m.addClass("dis-none"),v.addClass("postBtnsTop")):(u.removeClass("opaque"),l.removeClass("shadow"),r.removeClass("changeTop"),d.removeClass("changeTop"),p.removeClass("dropNavTop"),h.removeClass("dis-none"),m.removeClass("dis-none"),v.removeClass("postBtnsTop"))});var _=$(".hamburger_menu"),f=$(".side_nav").find(".side_nav__close"),g=$("body");$("section, footer");_.on("click",function(e){e.preventDefault(),g.toggleClass("menu-is-open")}),f.on("click",function(e){e.preventDefault(),_.trigger("click")}),g.on("click",function(e){$(e.target).is(".side_nav, .side_nav__content, .side_nav__list, .side_nav__list li, .hamburger_menu, .hamburger_menu span, .mobile_search .landing-nav_search")||g.removeClass("menu-is-open")});var k=$(".popModal"),y=$(".modalBtn"),b=$(".closeModal");y.each(function(){$(this).click(function(){k.css({display:"block"})})}),b.click(function(){k.css({display:"none"})});var C=$(".popModalMeta"),w=$(".modalBtnMeta"),x=$(".closeModalMeta");w.each(function(){$(this).click(function(){C.css({width:"100%"})})}),x.click(function(){C.css({width:"0"})});var B=$(".signUpModal"),j=$("div").hasClass("guestScroll"),M=$(".guestScroll");j&&Ue.on("scroll touchmove mousewheel",function(e){if(768<Ue.innerWidth){if(1e3<=Ue.scrollTop())return B.css({display:"block"}),O.css({overflow:"hidden"}),M.css({filter:" blur(10px)"}),e.preventDefault(),e.stopPropagation(),!1}else if(750<=Ue.scrollTop())return B.css({display:"block"}),O.css({overflow:"hidden"}),M.css({filter:" blur(10px)"}),e.preventDefault(),e.stopPropagation(),!1});var P=$(".microPostModal"),T=$(".micro_post_btn"),S=$(".closeModal");T.each(function(){$(this).click(function(){P.css({display:"block"})})}),S.click(function(){P.css({display:"none"})});var A=$(".groupModal"),D=$(".create_group_btn"),N=$(".closeModal"),O=$("body");D.each(function(){$(this).click(function(){A.css({display:"block"})})}),N.click(function(){A.css({display:"none"})}),A.hasClass("groupError")&&A.css({display:"block"});var I=$(".repostModal"),L=$(".repostModalBtn"),R=$(".closeModal");L.each(function(){$(this).click(function(){I.css({display:"block"})})}),R.click(function(){I.css({display:"none"})});var q=$(".detailsRepostModal"),E=$(".detailsRepostModalBtn");R=$(".closeModal");E.each(function(){$(this).click(function(){q.css({display:"block"})})}),R.click(function(){q.css({display:"none"})});var F=$(".add-input").children();$(".addInput").append(F);var K=$("#isPublicCheck"),U=$("#isPrivateCheck"),W=$("#checkbox"),z=$("#changeText");K.click(function(){K.attr("checked","checked"),K.addClass("checked"),U.removeClass("checked"),U.removeAttr("checked"),W.attr("value","false"),z.html("A public project can be viewed by anyone")}),U.click(function(){U.attr("checked","checked"),U.addClass("checked"),K.removeClass("checked"),K.removeAttr("checked"),W.attr("value","true"),z.html("A private project can only be seen by you")}),U.hasClass("checked")?W.attr("value","true"):W.attr("value","false"),$(".save_as_draft_btn").click(function(){U.attr("checked","checked"),U.addClass("checked"),K.removeClass("checked"),K.removeAttr("checked"),W.attr("value","true"),z.html("A private project can only be seen by you")});var G=$("#settingsBtn"),H=$("#settingsClose"),J=$("#profileSideNav");G.click(function(){Ue.width()<=768?J.css({width:"100%","box-shadow":"0 2px 4px 0 rgba(0,0,0,0.2)"}):J.css({width:"350"})}),H.click(function(){J.css({width:"0"})});$("#settingsSubmit");var Q=$("#settingsForm"),V=$("#img_indices");Q.submit(function(e){var s=$("#profileImage").val(),o=$("#backgroundImage").val();s&&o?V.attr("value","3"):s?V.attr("value","2"):V.attr("value","1")});var X=$(".masonryContainer").hasClass("ownProfile"),Y=$(".saved_btn"),Z=$(".own_btn"),ee=$(".repost_btn"),se=$(".ownProject"),oe=$(".savedProject"),te=$(".repostedProject");oe.css({display:"none"}),te.css({display:"none"}),X&&(Y.click(function(){se.css({display:"none"}),te.css({display:"none"}),oe.css({display:"block"})}),Z.click(function(){oe.css({display:"none"}),te.css({display:"none"}),se.css({display:"block"})}),ee.click(function(){oe.css({display:"none"}),se.css({display:"none"}),te.css({display:"block"})}));var ae=$(".comment_username"),ne=$("#current_user").text(),ce=$("#current_admin").text(),ie=$("#current_project").text();ae.each(function(){var e=$(this).next().text(),s=$(this).text();ne===ce?$(this).parent().append('<form method="post" class="" action="/p/details/uncomment/'+ie+'"><input type="hidden" name="comment_id" value="'+e+'"><input type="hidden" name="project_id" value="'+ie+'"><button class="project_action_btn" name="submit" type="submit"><img src="/icons/delete-ticket-item.png" class="main-topnav__icon" /></button></form>'):s===ne&&$(this).parent().append('<form method="post" class="" action="/p/details/uncomment/'+ie+'"><input type="hidden" name="comment_id" value="'+e+'"><input type="hidden" name="project_id" value="'+ie+'"><button class="project_action_btn" name="submit" type="submit"><img src="/icons/delete-ticket-item.png" class="main-topnav__icon" /></button></form>')});var le=$(".relatedBtn"),re=$("#relatedClose"),de=$("#relatedSideNav");le.each(function(){$(this).click(function(){Ue.width()<=768?(de.css({width:"100%","box-shadow":"0 2px 4px 0 rgba(0,0,0,0.2)"}),re.css({position:"fixed"})):de.css({width:"350"})})}),re.click(function(){re.css({position:"absolute"}),de.css({width:"0"})});var pe=$(".loader_project");$(".project_submit").click(function(){pe.css({display:"flex"})});var ue=$(".loader_micro");$("#microSubmit").click(function(){ue.css({display:"flex"})});var he,$e=$(".group_user_container"),me=$(".group_user_container .group_user"),ve=$(".group_project"),_e=$(".create_group_btn_container"),fe=$(".top_results_underline"),ge=$(".masonryContainer"),ke=$("#userKickBtn"),ye=$("#projRemBtn"),be=(J=$("#profileSideNav"),$("#tagId").text());ke.click(function(){J.css({width:"0"}),_e.toggleClass("bodyBlur"),fe.toggleClass("bodyBlur"),ge.toggleClass("bodyBlur"),me.each(function(){he=$(this).attr("href"),$(this).attr("href","/groups/"+be+"/kick"+he)})}),ye.click(function(){J.css({width:"0"}),_e.toggleClass("bodyBlur"),fe.toggleClass("bodyBlur"),$e.toggleClass("bodyBlur"),ve.each(function(){$projLink=$(this).attr("value"),$(this).attr("href","/groups/"+be+"/remove/"+$projLink)})});var Ce=$("#micropostPop"),we=$(".micropostPop_container"),xe=$(".micropost"),Be=(c=$("#mainBody"),$("#micro_repost")),je=$("#micro_unrepost"),Me=$("#micro_save"),Pe=$("#micro_like"),Te=$(".repostModalBtn"),Se=window.location.pathname;g.on("click",function(e){$(e.target).is(".side_nav, .side_nav__content, .side_nav__list, .side_nav__list li, .hamburger_menu, .hamburger_menu span, .mobile_search .landing-nav_search")||g.removeClass("menu-is-open")}),xe.each(function(){$(this).click(function(e){if(!$(e.target).is(".micro_delete")){var s=$(this).children(".micro_project").val(),o=$(this).children(".micro_owner").val(),t=$(this).children(".reposts_length").val(),a=$(this).children(".likes_length").val(),n=$(this).children(".saves_length").val();Be.attr("action","/p/details/micro/repost/"+s),je.attr("action","/p/details/micro/unrepost/"+s),Me.attr("action","/p/details/micro/save/"+s),Pe.attr("action","/p/details/micro/like/"+s),Be.children(".micro_project").val(s),Be.children(".micro_owner").val(o),Be.children(".og_path").val(Se),Te.children(".reposts_length").text(t),je.children(".micro_project").val(s),je.children(".og_path").val(Se),Me.children(".micro_project").val(s),Me.children(".micro_owner").val(o),Me.children(".og_path").val(Se),Me.children().children(".saves_length").text(n),Pe.children(".micro_project").val(s),Pe.children(".micro_owner").val(o),Pe.children(".og_path").val(Se),Pe.children().children(".likes_length").text(a),we.append($(this).clone()),Ce.addClass("microPop"),c.addClass("mainBodyPop")}})}),$(".microPopClose").click(function(){Ce.removeClass("microPop"),c.removeClass("mainBodyPop"),we.children().remove()});var Ae=$(".check"),De=$("#flashMsg");Ae.click(function(){De.append('<div class="success__msg"><p>Link was copied.</p><p class="error__exit">×</p></div>'),setTimeout(function(){$(De).remove()},3e3)});var Ne=$(".verify_email_display"),Oe=$(".verify_phone_display"),Ie=$(".verify_email_display_2"),Le=$(".verify_phone_display_2"),Re=$("#verify_email_btn"),qe=$("#verify_phone_btn");Oe.css({display:"none"}),Ie.css({display:"none"}),Re.click(function(){Oe.css({display:"none"}),Le.css({display:"none"}),Ne.css({display:"block"}),Ie.css({display:"block"})}),qe.click(function(){Ne.css({display:"none"}),Ie.css({display:"none"}),Oe.css({display:"block"}),Le.css({display:"block"})});Se=window.location.pathname;$(".og_path").each(function(){$(this).val(Se)});$("#dashBtn");var Ee=$(".dashOpen_container"),Fe=$("#dashClose"),Ke=$("#dashSideNav"),Ue=$(window);Ee.click(function(){Ue.width()<=595?Ke.css({width:"100%","box-shadow":"0 2px 4px 0 rgba(0,0,0,0.2)"}):Ke.css({width:"250"}),Ee.css({display:"none"}),Fe.css({display:"block"})}),Fe.click(function(){Ke.css({width:"0"}),Ee.css({display:"block"}),Fe.css({display:"none"})}),$(".micropost_card p").each(function(){0==$(this).text().trim().length&&$(this).css({padding:"0"})})});