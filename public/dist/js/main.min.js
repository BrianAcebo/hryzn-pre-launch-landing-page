$(document).ready(function(){Ge=$(window),R=$("body"),document.documentElement.setAttribute("data-useragent",navigator.userAgent);var t=800;$("html").addClass("cl-preload"),Ge.on("load",function(){$("#loader").fadeOut("slow",function(){$("#preloader").delay(300).fadeOut("slow")}),$("html").removeClass("cl-preload"),$("html").addClass("cl-loaded")}),$(".smoothscroll").on("click",function(e){var s=$(this).attr("href"),o=$(s);e.preventDefault(),e.stopPropagation(),$("html, body").stop().animate({scrollTop:o.offset().top},t,"swing").promise().done(function(){$("body").hasClass("menu-is-open")&&$(".hamburger_menu").trigger("click"),window.location.hash=s})}),$("input, textarea, select").placeholder(),AOS.init({offset:200,duration:600,easing:"ease-in-sine",delay:300,once:!0,disable:"mobile"});var s=$(".dropNav"),e=$(".dropBtn"),o=$(".post_container"),c=$("#mainBody"),a=$(".create-icon");e.each(function(){$(this).click(function(){s.toggleClass("showDrop")})}),a.each(function(){$(this).click(function(){o.toggleClass("showPostBtns"),c.toggleClass("bodyBlur")})}),c.on("click",function(e){c.hasClass("bodyBlur")&&(e.preventDefault(),e.stopPropagation()),s.removeClass("showDrop"),o.removeClass("showPostBtns"),c.removeClass("bodyBlur")});var n=$(".topnav.mobile_topnav"),i=$(".topnav.mobile_topnav .search-container button"),l=$(".topnav.mobile_topnav .close_icon");Ge.width()<=768&&i.attr("type","button"),i.click(function(){$(this).hasClass("open_btn")?$(this).attr("type","submit"):($(this).addClass("open_btn"),n.addClass("open_search"))}),l.click(function(){i.attr("type","button"),i.removeClass("open_btn"),n.removeClass("open_search")});var r=$(".statsNav");$(".statsBtn").each(function(){$(this).click(function(){r.toggleClass("showStats")})}),$(".loader_text-"+Math.floor(6*Math.random())).css({display:"block"}),Ge.on("load",function(){$(".loader_wrapper").delay(300).fadeOut("slow",function(){$(".loader_overlay").delay(300).fadeOut("slow")})}),Ge.on("load",function(){$(".projects_loader").delay(300).fadeOut("slow",function(){$(".loader_overlay").delay(300).fadeOut("slow")})});var d=$("#firstChar").text().substring(0,1);$(".first_char").html(d),$(".error__exit").click(function(){$(this).parent().remove()}),$(".go-back").click(function(){window.history.back()});var p=$(".topnav"),u=$(".success__msg"),h=$(".error__msg-4"),m=$(".drop_nav"),v=$(".hamburger_menu"),_=$(".nav_social"),f=$(".search-container.desktop_search"),k=$(".post_container");Ge.scroll(function(){50<=Ge.scrollTop()?(v.addClass("opaque"),p.addClass("shadow"),u.addClass("changeTop"),h.addClass("changeTop"),m.addClass("dropNavTop"),_.addClass("dis-none"),f.addClass("dis-none"),k.addClass("postBtnsTop")):(v.removeClass("opaque"),p.removeClass("shadow"),u.removeClass("changeTop"),h.removeClass("changeTop"),m.removeClass("dropNavTop"),_.removeClass("dis-none"),f.removeClass("dis-none"),k.removeClass("postBtnsTop"))});var g=$(".hamburger_menu"),b=$(".side_nav").find(".side_nav__close"),y=$("body");$("section, footer");g.on("click",function(e){e.preventDefault(),y.toggleClass("menu-is-open")}),b.on("click",function(e){e.preventDefault(),g.trigger("click")}),y.on("click",function(e){$(e.target).is(".side_nav, .side_nav__content, .side_nav__list, .side_nav__list li, .hamburger_menu, .hamburger_menu span, .mobile_search .landing-nav_search")||y.removeClass("menu-is-open")});var C=$(".popModal"),w=$(".modalBtn"),x=$(".closeModal");w.each(function(){$(this).click(function(){C.css({display:"block"})})}),x.click(function(){C.css({display:"none"})});var B=$(".popModalMeta"),j=$(".modalBtnMeta"),M=$(".closeModalMeta");j.each(function(){$(this).click(function(){B.css({width:"100%"})})}),M.click(function(){B.css({width:"0"})});var P=$(".signUpModal"),T=$("div").hasClass("guestScroll"),S=$(".guestScroll");T&&Ge.on("scroll touchmove mousewheel",function(e){if(768<Ge.innerWidth){if(1e3<=Ge.scrollTop())return P.css({display:"block"}),R.css({overflow:"hidden"}),S.css({filter:" blur(10px)"}),e.preventDefault(),e.stopPropagation(),!1}else if(750<=Ge.scrollTop())return P.css({display:"block"}),R.css({overflow:"hidden"}),S.css({filter:" blur(10px)"}),e.preventDefault(),e.stopPropagation(),!1});var A=$(".microPostModal"),D=$(".micro_post_btn"),N=$(".closeModal");D.each(function(){$(this).click(function(){A.css({display:"block"})})}),N.click(function(){A.css({display:"none"})});var O=$(".groupModal"),I=$(".create_group_btn"),L=$(".closeModal"),R=$("body");I.each(function(){$(this).click(function(){O.css({display:"block"})})}),L.click(function(){O.css({display:"none"})}),O.hasClass("groupError")&&O.css({display:"block"});var q=$(".repostModal"),E=$(".repostModalBtn"),F=$(".closeModal");E.each(function(){$(this).click(function(){q.css({display:"block"})})}),F.click(function(){q.css({display:"none"})});var K=$(".detailsRepostModal"),U=$(".detailsRepostModalBtn");F=$(".closeModal");U.each(function(){$(this).click(function(){K.css({display:"block"})})}),F.click(function(){K.css({display:"none"})});var W=$(".add-input").children();$(".addInput").append(W);var z=$("#isPublicCheck"),G=$("#isPrivateCheck"),H=$("#checkbox"),J=$("#changeText");z.click(function(){z.attr("checked","checked"),z.addClass("checked"),G.removeClass("checked"),G.removeAttr("checked"),H.attr("value","false"),J.html("A public project can be viewed by anyone")}),G.click(function(){G.attr("checked","checked"),G.addClass("checked"),z.removeClass("checked"),z.removeAttr("checked"),H.attr("value","true"),J.html("A private project can only be seen by you")}),G.hasClass("checked")?H.attr("value","true"):H.attr("value","false"),$(".save_as_draft_btn").click(function(){G.attr("checked","checked"),G.addClass("checked"),z.removeClass("checked"),z.removeAttr("checked"),H.attr("value","true"),J.html("A private project can only be seen by you")});var Q=$("#settingsBtn"),V=$("#settingsClose"),X=$("#profileSideNav");Q.click(function(){Ge.width()<=768?X.css({width:"100%","box-shadow":"0 2px 4px 0 rgba(0,0,0,0.2)"}):X.css({width:"350"})}),V.click(function(){X.css({width:"0"})});$("#settingsSubmit");var Y=$("#settingsForm"),Z=$("#img_indices");Y.submit(function(e){var s=$("#profileImage").val(),o=$("#backgroundImage").val();s&&o?Z.attr("value","3"):s?Z.attr("value","2"):Z.attr("value","1")});var ee=$(".masonryContainer").hasClass("ownProfile"),se=$(".saved_btn"),oe=$(".own_btn"),te=$(".repost_btn"),ae=$(".ownProject"),ne=$(".savedProject"),ce=$(".repostedProject");ne.css({display:"none"}),ce.css({display:"none"}),ee&&(se.click(function(){ae.css({display:"none"}),ce.css({display:"none"}),ne.css({display:"block"})}),oe.click(function(){ne.css({display:"none"}),ce.css({display:"none"}),ae.css({display:"block"})}),te.click(function(){ne.css({display:"none"}),ae.css({display:"none"}),ce.css({display:"block"})}));var ie=$(".comment_username"),le=$("#current_user").text(),re=$("#current_admin").text(),de=$("#current_project").text();ie.each(function(){var e=$(this).next().text(),s=$(this).text();le===re?$(this).parent().append('<form method="post" class="" action="/p/details/uncomment/'+de+'"><input type="hidden" name="comment_id" value="'+e+'"><input type="hidden" name="project_id" value="'+de+'"><button class="project_action_btn" name="submit" type="submit"><img src="/icons/delete-ticket-item.png" class="main-topnav__icon" /></button></form>'):s===le&&$(this).parent().append('<form method="post" class="" action="/p/details/uncomment/'+de+'"><input type="hidden" name="comment_id" value="'+e+'"><input type="hidden" name="project_id" value="'+de+'"><button class="project_action_btn" name="submit" type="submit"><img src="/icons/delete-ticket-item.png" class="main-topnav__icon" /></button></form>')});var pe=$(".relatedBtn"),ue=$("#relatedClose"),he=$("#relatedSideNav");pe.each(function(){$(this).click(function(){Ge.width()<=768?(he.css({width:"100%","box-shadow":"0 2px 4px 0 rgba(0,0,0,0.2)"}),ue.css({position:"fixed"})):he.css({width:"350"})})}),ue.click(function(){ue.css({position:"absolute"}),he.css({width:"0"})});var $e=$(".loader_project");$(".project_submit").click(function(){$e.css({display:"flex"})});var me=$(".loader_micro");$("#microSubmit").click(function(){me.css({display:"flex"})});var ve,_e=$(".group_user_container"),fe=$(".group_user_container .group_user"),ke=$(".group_project"),ge=$(".create_group_btn_container"),be=$(".top_results_underline"),ye=$(".masonryContainer"),Ce=$("#userKickBtn"),we=$("#projRemBtn"),xe=(X=$("#profileSideNav"),$("#tagId").text());Ce.click(function(){X.css({width:"0"}),ge.toggleClass("bodyBlur"),be.toggleClass("bodyBlur"),ye.toggleClass("bodyBlur"),fe.each(function(){ve=$(this).attr("href"),$(this).attr("href","/groups/"+xe+"/kick"+ve)})}),we.click(function(){X.css({width:"0"}),ge.toggleClass("bodyBlur"),be.toggleClass("bodyBlur"),_e.toggleClass("bodyBlur"),ke.each(function(){$projLink=$(this).attr("value"),$(this).attr("href","/groups/"+xe+"/remove/"+$projLink)})});var Be=$("#micropostPop"),je=$(".micropostPop_container"),Me=$(".micropost"),Pe=(c=$("#mainBody"),$("#micro_repost")),Te=$("#micro_unrepost"),Se=$("#micro_save"),Ae=$("#micro_like"),De=$(".repostModalBtn"),Ne=window.location.pathname;y.on("click",function(e){$(e.target).is(".side_nav, .side_nav__content, .side_nav__list, .side_nav__list li, .hamburger_menu, .hamburger_menu span, .mobile_search .landing-nav_search")||y.removeClass("menu-is-open")}),Me.each(function(){$(this).click(function(e){if(!$(e.target).is(".micro_delete")){var s=$(this).children(".micro_project").val(),o=$(this).children(".micro_owner").val(),t=$(this).children(".reposts_length").val(),a=$(this).children(".likes_length").val(),n=$(this).children(".saves_length").val();Pe.attr("action","/p/details/micro/repost/"+s),Te.attr("action","/p/details/micro/unrepost/"+s),Se.attr("action","/p/details/micro/save/"+s),Ae.attr("action","/p/details/micro/like/"+s),Pe.children(".micro_project").val(s),Pe.children(".micro_owner").val(o),Pe.children(".og_path").val(Ne),De.children(".reposts_length").text(t),Te.children(".micro_project").val(s),Te.children(".og_path").val(Ne),Se.children(".micro_project").val(s),Se.children(".micro_owner").val(o),Se.children(".og_path").val(Ne),Se.children().children(".saves_length").text(n),Ae.children(".micro_project").val(s),Ae.children(".micro_owner").val(o),Ae.children(".og_path").val(Ne),Ae.children().children(".likes_length").text(a),je.append($(this).clone()),Be.addClass("microPop"),c.addClass("mainBodyPop")}})}),$(".microPopClose").click(function(){Be.removeClass("microPop"),c.removeClass("mainBodyPop"),je.children().remove()});var Oe=$(".check"),Ie=$("#flashMsg");Oe.click(function(){Ie.append('<div class="success__msg"><p>Link was copied.</p><p class="error__exit">×</p></div>'),setTimeout(function(){$(Ie).remove()},3e3)});var Le=$(".verify_email_display"),Re=$(".verify_phone_display"),qe=$(".verify_email_display_2"),Ee=$(".verify_phone_display_2"),Fe=$("#verify_email_btn"),Ke=$("#verify_phone_btn");Re.css({display:"none"}),qe.css({display:"none"}),Fe.click(function(){Re.css({display:"none"}),Ee.css({display:"none"}),Le.css({display:"block"}),qe.css({display:"block"})}),Ke.click(function(){Le.css({display:"none"}),qe.css({display:"none"}),Re.css({display:"block"}),Ee.css({display:"block"})});Ne=window.location.pathname;$(".og_path").each(function(){$(this).val(Ne)});$("#dashBtn");var Ue=$(".dashOpen_container"),We=$("#dashClose"),ze=$("#dashSideNav"),Ge=$(window);Ue.click(function(){Ge.width()<=595?ze.css({width:"100%","box-shadow":"0 2px 4px 0 rgba(0,0,0,0.2)"}):ze.css({width:"250"}),Ue.css({display:"none"}),We.css({display:"block"})}),We.click(function(){ze.css({width:"0"}),Ue.css({display:"block"}),We.css({display:"none"})}),$(".micropost_card p").each(function(){0==$(this).text().trim().length&&$(this).css({padding:"0"})})});