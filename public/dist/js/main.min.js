$(document).ready(function(){$window=$(window),N=$("body"),document.documentElement.setAttribute("data-useragent",navigator.userAgent);var t=800;$("html").addClass("cl-preload"),$window.on("load",function(){$("#loader").fadeOut("slow",function(){$("#preloader").delay(300).fadeOut("slow")}),$("html").removeClass("cl-preload"),$("html").addClass("cl-loaded")}),$(".smoothscroll").on("click",function(e){var o=$(this).attr("href"),s=$(o);e.preventDefault(),e.stopPropagation(),$("html, body").stop().animate({scrollTop:s.offset().top},t,"swing").promise().done(function(){$("body").hasClass("menu-is-open")&&$(".hamburger_menu").trigger("click"),window.location.hash=o})}),$("input, textarea, select").placeholder(),AOS.init({offset:200,duration:600,easing:"ease-in-sine",delay:300,once:!0,disable:"mobile"});var o=$(".dropNav"),e=$(".dropBtn"),s=$(".post_container"),c=$("#mainBody"),n=$(".create-icon");e.each(function(){$(this).click(function(){o.toggleClass("showDrop")})}),n.each(function(){$(this).click(function(){s.toggleClass("showPostBtns"),c.toggleClass("bodyBlur")})}),c.on("click",function(e){c.hasClass("bodyBlur")&&(e.preventDefault(),e.stopPropagation()),o.removeClass("showDrop"),s.removeClass("showPostBtns"),c.removeClass("bodyBlur")});var a=$(".statsNav");$(".statsBtn").each(function(){$(this).click(function(){a.toggleClass("showStats")})}),$(".loader_text-"+Math.floor(6*Math.random())).css({display:"block"}),$window.on("load",function(){$(".loader_wrapper").delay(300).fadeOut("slow",function(){$(".loader_overlay").delay(300).fadeOut("slow")})}),$window.on("load",function(){$(".projects_loader").delay(300).fadeOut("slow",function(){$(".loader_overlay").delay(300).fadeOut("slow")})});var i=$("#firstChar").text().substring(0,1);$(".first_char").html(i),$(".error__exit").click(function(){$(this).parent().remove()}),$(".go-back").click(function(){window.history.back()});var l=$(".topnav"),r=$(".success__msg"),d=$(".error__msg-4"),p=$(".drop_nav"),u=$(".hamburger_menu"),h=$(".nav_social"),m=$(".post_container");$window.scroll(function(){50<=$window.scrollTop()?(u.addClass("opaque"),l.addClass("shadow"),r.addClass("changeTop"),d.addClass("changeTop"),p.addClass("dropNavTop"),h.addClass("dis-none"),m.addClass("postBtnsTop")):(u.removeClass("opaque"),l.removeClass("shadow"),r.removeClass("changeTop"),d.removeClass("changeTop"),p.removeClass("dropNavTop"),h.removeClass("dis-none"),m.removeClass("postBtnsTop"))});var v=$(".hamburger_menu"),f=$(".side_nav").find(".side_nav__close"),_=$("body");$("section, footer");v.on("click",function(e){e.preventDefault(),_.toggleClass("menu-is-open")}),f.on("click",function(e){e.preventDefault(),v.trigger("click")}),_.on("click",function(e){$(e.target).is(".side_nav, .side_nav__content, .side_nav__list, .side_nav__list li, .hamburger_menu, .hamburger_menu span")||_.removeClass("menu-is-open")});var k=$(".popModal"),y=$(".modalBtn"),g=$(".closeModal");y.each(function(){$(this).click(function(){k.css({display:"block"})})}),g.click(function(){k.css({display:"none"})});var b=$(".popModalMeta"),w=$(".modalBtnMeta"),C=$(".closeModalMeta");w.each(function(){$(this).click(function(){b.css({width:"100%"})})}),C.click(function(){b.css({width:"0"})});var x=$(".signUpModal"),B=$("div").hasClass("guestScroll"),j=$(".guestScroll");B&&$window.on("scroll touchmove mousewheel",function(e){if(768<$window.innerWidth){if(1e3<=$window.scrollTop())return x.css({display:"block"}),N.css({overflow:"hidden"}),j.css({filter:" blur(10px)"}),e.preventDefault(),e.stopPropagation(),!1}else if(750<=$window.scrollTop())return x.css({display:"block"}),N.css({overflow:"hidden"}),j.css({filter:" blur(10px)"}),e.preventDefault(),e.stopPropagation(),!1});var M=$(".microPostModal"),P=$(".micro_post_btn"),T=$(".closeModal");P.each(function(){$(this).click(function(){M.css({display:"block"})})}),T.click(function(){M.css({display:"none"})});var A=$(".groupModal"),S=$(".create_group_btn"),D=$(".closeModal"),N=$("body");S.each(function(){$(this).click(function(){A.css({display:"block"})})}),D.click(function(){A.css({display:"none"})}),A.hasClass("groupError")&&A.css({display:"block"});var O=$(".repostModal"),I=$(".repostModalBtn"),L=$(".closeModal");I.each(function(){$(this).click(function(){O.css({display:"block"})})}),L.click(function(){O.css({display:"none"})});var R=$(".detailsRepostModal"),q=$(".detailsRepostModalBtn");L=$(".closeModal");q.each(function(){$(this).click(function(){R.css({display:"block"})})}),L.click(function(){R.css({display:"none"})});var E=$(".add-input").children();$(".addInput").append(E);var F=$("#isPublicCheck"),K=$("#isPrivateCheck"),U=$("#checkbox"),W=$("#changeText");F.click(function(){F.attr("checked","checked"),F.addClass("checked"),K.removeClass("checked"),K.removeAttr("checked"),U.attr("value","false"),W.html("A public project can be viewed by anyone")}),K.click(function(){K.attr("checked","checked"),K.addClass("checked"),F.removeClass("checked"),F.removeAttr("checked"),U.attr("value","true"),W.html("A private project can only be seen by you")}),K.hasClass("checked")?U.attr("value","true"):U.attr("value","false"),$(".save_as_draft_btn").click(function(){K.attr("checked","checked"),K.addClass("checked"),F.removeClass("checked"),F.removeAttr("checked"),U.attr("value","true"),W.html("A private project can only be seen by you")});var z=$("#settingsBtn"),G=$("#settingsClose"),H=$("#profileSideNav");z.click(function(){$window.width()<=768?H.css({width:"100%","box-shadow":"0 2px 4px 0 rgba(0,0,0,0.2)"}):H.css({width:"350"})}),G.click(function(){H.css({width:"0"})});$("#settingsSubmit");var J=$("#settingsForm"),Q=$("#img_indices");J.submit(function(e){var o=$("#profileImage").val(),s=$("#backgroundImage").val();o&&s?Q.attr("value","3"):o?Q.attr("value","2"):Q.attr("value","1")});var V=$(".masonryContainer").hasClass("ownProfile"),X=$(".saved_btn"),Y=$(".own_btn"),Z=$(".repost_btn"),ee=$(".ownProject"),oe=$(".savedProject"),se=$(".repostedProject");oe.css({display:"none"}),se.css({display:"none"}),V&&(X.click(function(){ee.css({display:"none"}),se.css({display:"none"}),oe.css({display:"block"})}),Y.click(function(){oe.css({display:"none"}),se.css({display:"none"}),ee.css({display:"block"})}),Z.click(function(){oe.css({display:"none"}),ee.css({display:"none"}),se.css({display:"block"})}));var te=$(".comment_username"),ne=$("#current_user").text(),ce=$("#current_admin").text(),ae=$("#current_project").text();te.each(function(){var e=$(this).next().text(),o=$(this).text();ne===ce?$(this).parent().append('<form method="post" class="" action="/p/details/uncomment/'+ae+'"><input type="hidden" name="comment_id" value="'+e+'"><input type="hidden" name="project_id" value="'+ae+'"><button class="project_action_btn" name="submit" type="submit"><img src="/icons/delete-ticket-item.png" class="main-topnav__icon" /></button></form>'):o===ne&&$(this).parent().append('<form method="post" class="" action="/p/details/uncomment/'+ae+'"><input type="hidden" name="comment_id" value="'+e+'"><input type="hidden" name="project_id" value="'+ae+'"><button class="project_action_btn" name="submit" type="submit"><img src="/icons/delete-ticket-item.png" class="main-topnav__icon" /></button></form>')});var ie=$(".relatedBtn"),le=$("#relatedClose"),re=$("#relatedSideNav");ie.each(function(){$(this).click(function(){$window.width()<=768?(re.css({width:"100%","box-shadow":"0 2px 4px 0 rgba(0,0,0,0.2)"}),le.css({position:"fixed"})):re.css({width:"350"})})}),le.click(function(){le.css({position:"absolute"}),re.css({width:"0"})});var de=$(".loader_project");$(".project_submit").click(function(){de.css({display:"flex"})});var pe=$(".loader_micro");$("#microSubmit").click(function(){pe.css({display:"flex"})});var ue,he=$(".group_user_container"),$e=$(".group_user_container .group_user"),me=$(".group_project"),ve=$(".create_group_btn_container"),fe=$(".top_results_underline"),_e=$(".masonryContainer"),ke=$("#userKickBtn"),ye=$("#projRemBtn"),ge=(H=$("#profileSideNav"),$("#tagId").text());ke.click(function(){H.css({width:"0"}),ve.toggleClass("bodyBlur"),fe.toggleClass("bodyBlur"),_e.toggleClass("bodyBlur"),$e.each(function(){ue=$(this).attr("href"),$(this).attr("href","/groups/"+ge+"/kick"+ue)})}),ye.click(function(){H.css({width:"0"}),ve.toggleClass("bodyBlur"),fe.toggleClass("bodyBlur"),he.toggleClass("bodyBlur"),me.each(function(){$projLink=$(this).attr("value"),$(this).attr("href","/groups/"+ge+"/remove/"+$projLink)})});var be=$("#micropostPop"),we=$(".micropostPop_container"),Ce=$(".micropost"),xe=(c=$("#mainBody"),$("#micro_repost")),Be=$("#micro_unrepost"),je=$("#micro_save"),Me=$("#micro_like"),Pe=$(".repostModalBtn"),Te=window.location.pathname;Ce.each(function(){$(this).click(function(){var e=$(this).children(".micro_project").val(),o=$(this).children(".micro_owner").val(),s=$(this).children(".reposts_length").val(),t=$(this).children(".likes_length").val(),n=$(this).children(".saves_length").val();xe.attr("action","/p/details/micro/repost/"+e),Be.attr("action","/p/details/micro/unrepost/"+e),je.attr("action","/p/details/micro/save/"+e),Me.attr("action","/p/details/micro/like/"+e),xe.children(".micro_project").val(e),xe.children(".micro_owner").val(o),xe.children(".og_path").val(Te),Pe.children(".reposts_length").text(s),Be.children(".micro_project").val(e),Be.children(".og_path").val(Te),je.children(".micro_project").val(e),je.children(".micro_owner").val(o),je.children(".og_path").val(Te),je.children().children(".saves_length").text(n),Me.children(".micro_project").val(e),Me.children(".micro_owner").val(o),Me.children(".og_path").val(Te),Me.children().children(".likes_length").text(t),we.append($(this).clone()),be.addClass("microPop"),c.addClass("mainBodyPop")})}),$(".microPopClose").click(function(){be.removeClass("microPop"),c.removeClass("mainBodyPop"),we.children().remove()});var Ae=$(".check"),Se=$("#flashMsg");Ae.click(function(){Se.append('<div class="success__msg"><p>Link was copied.</p><p class="error__exit">Ã—</p></div>'),setTimeout(function(){$(Se).remove()},3e3)});var De=$(".verify_email_display"),Ne=$(".verify_phone_display"),Oe=$(".verify_email_display_2"),Ie=$(".verify_phone_display_2"),Le=$("#verify_email_btn"),Re=$("#verify_phone_btn");Ne.css({display:"none"}),Oe.css({display:"none"}),Le.click(function(){Ne.css({display:"none"}),Ie.css({display:"none"}),De.css({display:"block"}),Oe.css({display:"block"})}),Re.click(function(){De.css({display:"none"}),Oe.css({display:"none"}),Ne.css({display:"block"}),Ie.css({display:"block"})})});