$(document).ready(function(){Ze=$(window),q=$("body"),document.documentElement.setAttribute("data-useragent",navigator.userAgent);var o=800;$("html").addClass("cl-preload"),Ze.on("load",function(){$("#loader").fadeOut("slow",function(){$("#preloader").delay(300).fadeOut("slow")}),$("html").removeClass("cl-preload"),$("html").addClass("cl-loaded")}),setTimeout(function(){$("#loader").fadeOut("slow",function(){$("#preloader").delay(300).fadeOut("slow")}),$("html").removeClass("cl-preload"),$("html").addClass("cl-loaded")},12e3),$(".smoothscroll").on("click",function(e){var s=$(this).attr("href"),t=$(s);e.preventDefault(),e.stopPropagation(),$("html, body").stop().animate({scrollTop:t.offset().top},o,"swing").promise().done(function(){$("body").hasClass("menu-is-open")&&$(".hamburger_menu").trigger("click"),window.location.hash=s})}),$("input, textarea, select").placeholder(),AOS.init({offset:200,duration:600,easing:"ease-in-sine",delay:300,once:!0,disable:"mobile"}),$(".date-field").autotab("number");var s=$(".dropNav"),e=$(".dropBtn"),t=$(".post_container");if("mainBody"===$("#mainBody").attr("id"))var n=$("#mainBody");else n=$("#mainBodyIndex");var a=$(".create-icon");e.each(function(){$(this).click(function(){s.toggleClass("showDrop")})}),a.each(function(){$(this).click(function(){t.toggleClass("showPostBtns"),n.toggleClass("bodyBlur")})}),n.on("click",function(e){n.hasClass("bodyBlur")&&(e.preventDefault(),e.stopPropagation()),s.removeClass("showDrop"),t.removeClass("showPostBtns"),n.removeClass("bodyBlur")});var c=$(".topnav.mobile_topnav"),i=$(".topnav.mobile_topnav .search-container button"),l=$(".topnav.mobile_topnav .close_icon");Ze.width()<=992&&i.attr("type","button"),i.click(function(){$(this).hasClass("open_btn")?$(this).attr("type","submit"):($(this).addClass("open_btn"),c.addClass("open_search"))}),l.click(function(){i.attr("type","button"),i.removeClass("open_btn"),c.removeClass("open_search")});var r=$(".statsNav");$(".statsBtn").each(function(){$(this).click(function(){r.toggleClass("showStats")})}),$(".loader_text-"+Math.floor(6*Math.random())).css({display:"block"}),$(".success__msg")&&$(".loader_overlay").css({display:"none"}),Ze.on("load",function(){$(".success__msg");$(".loader_wrapper").delay(300).fadeOut("slow",function(){$(".loader_overlay").delay(300).fadeOut("slow")}),$(".projects_loader").delay(300).fadeOut("slow",function(){$(".loader_overlay").delay(300).fadeOut("slow")})}),setTimeout(function(){$(".loader_wrapper").delay(300).fadeOut("slow",function(){$(".loader_overlay").delay(300).fadeOut("slow")}),$(".projects_loader").delay(300).fadeOut("slow",function(){$(".loader_overlay").delay(300).fadeOut("slow")})},12e3);var d=$("#firstChar").text().substring(0,1);$(".first_char").html(d),$(".error__exit").click(function(){$(this).parent().remove()}),$(".go-back").click(function(){window.history.back()});var p=$(".topnav"),u=$(".drop_nav"),h=$(".hamburger_menu"),f=$(".nav_social"),m=$(".search-container.desktop_search"),_=$(".post_container"),v=$(".guest_project .topnav__logo");Ze.scroll(function(){50<=Ze.scrollTop()?(h.addClass("opaque"),v.css({color:"#31375A"}),p.addClass("shadow"),u.addClass("dropNavTop"),f.addClass("dis-none"),m.addClass("dis-none"),_.addClass("postBtnsTop"),992<Ze.width()&&$(".success__msg").css({top:"75px"})):(h.removeClass("opaque"),Ze.width()<992&&v.css({color:"#fff"}),p.removeClass("shadow"),u.removeClass("dropNavTop"),f.removeClass("dis-none"),m.removeClass("dis-none"),_.removeClass("postBtnsTop"))});var b=$(window).scrollTop(),y=($(window).scrollTop(),$(".icon-bar")),g=$(".icon-bar a"),k=$(".icon-bar button"),w=$(".icon-bar a i"),x=$(".icon-bar .i_amounts");$(window).scroll(function(){var e=$(window).scrollTop();50<=$(window).scrollTop()?(b<e?y.css({display:"none"}):(y.css({display:"flex"}),g.css({background:"#fff",color:"#333","justify-content":"center",width:"35px"}),k.css({margin:"25px 0","box-shadow":"rgba(0,0,0,.1) 0 2px 10px 1px"}),x.css({display:"none"}),w.css({"margin-left":"0"})),b=e):(Ze.width()<=992?(w.css({"margin-left":"0"}),g.css({background:"transparent",color:"#fff","justify-content":"flex-end",width:"auto"}),k.css({margin:"10px 0","box-shadow":"none"})):(w.css({"margin-left":"15px"}),g.css({background:"transparent",color:"#333","justify-content":"center",width:"auto"}),k.css({margin:"35px 0","box-shadow":"none"})),x.css({display:"block"}),w.css({"margin-left":"15px"}))});var C=$(".hamburger_menu"),j=$(".side_nav").find(".side_nav__close"),B=$("body");$("section, footer");C.on("click",function(e){e.preventDefault(),B.toggleClass("menu-is-open")}),j.on("click",function(e){e.preventDefault(),C.trigger("click")}),B.on("click",function(e){$(e.target).is(".side_nav, .side_nav__content, .side_nav__list, .side_nav__list li, .hamburger_menu, .hamburger_menu span, .mobile_search .landing-nav_search")||B.removeClass("menu-is-open")});var M=$(".popModal"),P=$(".modalBtn"),F=$(".closeModal");P.each(function(){$(this).click(function(){M.css({display:"block"})})}),F.click(function(){M.css({display:"none"})});var S=$(".popModalMeta"),T=$(".modalBtnMeta"),O=$(".closeModalMeta");T.each(function(){$(this).click(function(){S.css({width:"100%"})})}),O.click(function(){S.css({width:"0"})});var N=$(".signUpModal"),A=$("div").hasClass("guestScroll"),D=$(".guestScroll");A&&Ze.on("scroll touchmove mousewheel",function(e){if(768<Ze.innerWidth){if(1e3<=Ze.scrollTop())return N.css({display:"block"}),q.css({overflow:"hidden"}),D.css({filter:" blur(10px)"}),e.preventDefault(),e.stopPropagation(),!1}else if(750<=Ze.scrollTop())return N.css({display:"block"}),q.css({overflow:"hidden"}),D.css({filter:" blur(10px)"}),e.preventDefault(),e.stopPropagation(),!1});var I=$(".microPostModal"),U=$(".micro_post_btn"),R=$(".closeModal");U.each(function(){$(this).click(function(){I.css({display:"block"})})}),R.click(function(){I.css({display:"none"})});var z=$(".groupModal"),E=$(".create_group_btn"),L=$(".closeModal"),q=$("body");E.each(function(){$(this).click(function(){z.css({display:"block"})})}),L.click(function(){z.css({display:"none"})}),z.hasClass("groupError")&&z.css({display:"block"});var K=$(".micro_tab_links"),W=$(".micro_tab_content"),G=$(".input_is_micro"),H=$("#input_is_micro_text"),J=$("#input_is_micro_image"),Q=$("#input_is_micro_audio"),V=$("#input_is_micro_video");K.each(function(){$(this).click(function(){K.each(function(){$(this).removeClass("micro_tab_active")}),$(this).addClass("micro_tab_active"),W.each(function(){$(this).removeClass("micro_active")});var e=$(this).attr("id");$("."+e).addClass("micro_active"),"micro_text"==e?(G.each(function(){$(this).attr("value","false")}),H.attr("value","true")):"micro_image"==e?(G.each(function(){$(this).attr("value","false")}),J.attr("value","true")):"micro_audio"==e?(G.each(function(){$(this).attr("value","false")}),Q.attr("value","true")):(G.each(function(){$(this).attr("value","false")}),V.attr("value","true"))})});var X=$(".repostModal"),Y=$(".repostModalBtn"),Z=$(".closeModal");Y.each(function(){$(this).click(function(){X.css({display:"block"})})}),Z.click(function(){X.css({display:"none"})});var ee=$(".detailsRepostModal"),se=$(".detailsRepostModalBtn");Z=$(".closeModal");se.each(function(){$(this).click(function(){ee.css({display:"block"});var e=$(this).children("input[name=username]").val(),s=$(this).children("input[name=project_id]").val(),t=$(this).children("input[name=project_owner]").val(),o=$(this).children("input[name=user_reposted]").val();$("#repostForm #repostUsername").val(e),$("#repostForm #repostProjectId").val(s),$("#repostForm #repostProjectOwner").val(t),$("#repostForm #repostUserPosted").val(o),$("#repostForm").attr("action","/p/details/micro/repost/"+s),"true"==o&&($("#unrepostForm").attr("action","/p/details/micro/unrepost/"+s),$("#unrepostForm #unrepostUsername").val(e),$("#unrepostForm #unrepostProjectId").val(s))})}),Z.click(function(){ee.css({display:"none"})});var te=$(".add-input").children();$(".addInput").append(te);var oe=$("#isPublicCheck"),ne=$("#isPrivateCheck"),ae=$("#checkbox"),ce=$("#changeText");oe.click(function(){oe.attr("checked","checked"),oe.addClass("checked"),ne.removeClass("checked"),ne.removeAttr("checked"),ae.attr("value","false"),ce.html("A public project can be viewed by anyone")}),ne.click(function(){ne.attr("checked","checked"),ne.addClass("checked"),oe.removeClass("checked"),oe.removeAttr("checked"),ae.attr("value","true"),ce.html("A private project can only be seen by you")}),ne.hasClass("checked")?ae.attr("value","true"):ae.attr("value","false"),$(".save_as_draft_btn").click(function(){ne.attr("checked","checked"),ne.addClass("checked"),oe.removeClass("checked"),oe.removeAttr("checked"),ae.attr("value","true"),ce.html("A private project can only be seen by you")});var ie=$("#settingsBtn"),le=$("#settingsClose"),re=$("#profileSideNav");B=$("body");ie.click(function(){Ze.width()<=768?re.css({width:"100%","box-shadow":"0 2px 4px 0 rgba(0,0,0,0.2)"}):re.css({width:"350"})}),le.click(function(){re.css({width:"0"})}),B.on("click",function(e){$(e.target).is(".settings_content, .settings__header, .settings__underline, .profile__sidenav a, #settingsBtn, #settingsBtn .mobile-nav__icon, #profileSideNav, #profileSideNav p")||re.css({width:"0"})});var de=$(".masonryContainer").hasClass("ownProfile"),pe=$(".saved_btn"),ue=$(".own_btn"),$e=$(".repost_btn"),he=$(".ownProject"),fe=$(".savedProject"),me=$(".repostedProject");fe.css({display:"none"}),me.css({display:"none"}),de&&(pe.click(function(){he.css({display:"none"}),me.css({display:"none"}),fe.css({display:"block"})}),ue.click(function(){fe.css({display:"none"}),me.css({display:"none"}),he.css({display:"block"})}),$e.click(function(){fe.css({display:"none"}),he.css({display:"none"}),me.css({display:"block"})}));var _e=$(".comment_username"),ve=$("#current_user").text(),be=$("#current_admin").text(),ye=$("#current_project").text();_e.each(function(){var e=$(this).next().next().text(),s=$(this).text();ve===be?$(this).next().hasClass("del_box")&&$(this).next().append('<form method="post" class="uncomment_form_btn" action="/p/details/uncomment/'+ye+'"><input type="hidden" name="comment_id" value="'+e+'"><input type="hidden" name="project_id" value="'+ye+'"><button class="project_action_btn" name="submit" type="submit"><img src="/icons/delete-ticket-item.png" class="main-topnav__icon" /></button></form>'):s===ve&&$(this).next().hasClass("del_box")&&$(this).next().append('<form method="post" class="uncomment_form_btn" action="/p/details/uncomment/'+ye+'"><input type="hidden" name="comment_id" value="'+e+'"><input type="hidden" name="project_id" value="'+ye+'"><button class="project_action_btn" name="submit" type="submit"><img src="/icons/delete-ticket-item.png" class="main-topnav__icon" /></button></form>')});var ge=$(".relatedBtn"),ke=$("#relatedClose"),we=$("#relatedSideNav");ge.each(function(){$(this).click(function(){Ze.width()<=768?(we.css({height:"400","box-shadow":"rgba(0,0,0,.1) 0 2px 10px 1px","padding-top":"25px"}),ke.css({position:"fixed"})):we.css({width:"350"})})}),ke.click(function(){ke.css({position:"absolute"}),Ze.width()<=768?we.css({height:"0","padding-top":"0"}):we.css({width:"0"})});var xe=$(".projectSettingsBtn_ell"),Ce=$("#projectSettingsClose"),je=$("#projectSettingsNav");xe.each(function(){$(this).click(function(){je.css({height:"400","box-shadow":"rgba(0,0,0,.1) 0 2px 10px 1px"})})}),Ce.click(function(){je.css({height:"0"})});var Be=$(".loader_project"),Me=($(".project_submit"),$("#createProjectForm")),Pe=$("#settingsForm");Me.submit(function(e){Be.css({display:"flex"})}),Pe.submit(function(e){Be.css({display:"flex"})});var Fe=$(".loader_micro");$("#microSubmit").click(function(){Fe.css({display:"flex"})});var Se,Te=$(".group_user_container"),Oe=$(".group_user_container .group_user"),Ne=$(".group_project"),Ae=$(".create_group_btn_container"),De=$(".top_results_underline"),Ie=$(".masonryContainer"),Ue=$("#userKickBtn"),Re=$("#projRemBtn"),ze=(re=$("#profileSideNav"),$("#tagId").text());Ue.click(function(){re.css({width:"0"}),Ae.toggleClass("bodyBlur"),De.toggleClass("bodyBlur"),Ie.toggleClass("bodyBlur"),Oe.each(function(){Se=$(this).attr("href"),$(this).attr("href","/groups/"+ze+"/kick"+Se)})}),Re.click(function(){re.css({width:"0"}),Ae.toggleClass("bodyBlur"),De.toggleClass("bodyBlur"),Te.toggleClass("bodyBlur"),Ne.each(function(){$projLink=$(this).attr("value"),$(this).attr("href","/groups/"+ze+"/remove/"+$projLink)})});var Ee=$(".check"),Le=$("#flashMsg");Ee.click(function(){Le.append('<div class="success__msg"><p>Link was copied.</p><p class="error__exit">×</p></div>'),setTimeout(function(){$(Le).remove()},3e3)}),setTimeout(function(){$(".success__msg").remove(),$(".error__msg-4").remove()},3e3);var qe=$(".verify_email_display"),Ke=$(".verify_phone_display"),We=$(".verify_email_display_2"),Ge=$(".verify_phone_display_2"),He=$("#verify_email_btn"),Je=$("#verify_phone_btn");Ke.css({display:"none"}),We.css({display:"none"}),He.click(function(){Ke.css({display:"none"}),Ge.css({display:"none"}),qe.css({display:"block"}),We.css({display:"block"})}),Je.click(function(){qe.css({display:"none"}),We.css({display:"none"}),Ke.css({display:"block"}),Ge.css({display:"block"})});var Qe=window.location.pathname;$(".og_path").each(function(){$(this).val(Qe)});$("#dashBtn");var Ve=$(".dashOpen_container"),Xe=$("#dashClose"),Ye=$("#dashSideNav"),Ze=$(window);Ve.click(function(){Ze.width()<=595?Ye.css({width:"100%","box-shadow":"0 2px 4px 0 rgba(0,0,0,0.2)"}):Ye.css({width:"250"}),Ve.css({display:"none"}),Xe.css({display:"block"})}),Xe.click(function(){Ye.css({width:"0"}),Ve.css({display:"block"}),Xe.css({display:"none"})}),$(".micropost_card p").each(function(){0==$(this).text().trim().length&&$(this).css({padding:"0"})});var es=$(".profile_font_main_option"),ss=$(".profile_font_secondary_option"),ts=$("#profileMainFontExample"),os=$("#profileMainFontSelect"),ns=$("#profileSecondaryFontExample"),as=$("#profileSecondaryFontSelect");os.click(function(){es.each(function(){if($(this).is(":selected")){var e=$(this).val();ts.css({"font-family":e})}})}),as.click(function(){ss.each(function(){if($(this).is(":selected")){var e=$(this).val();ns.css({"font-family":e})}})});var cs=$("#selectCollection").find(":selected").text(),is=$(".collection_project"),ls=$("#selectCollection").first().val();is.css({display:"none"}),$(".edit_collection_btn").css({display:"none"}),$("."+ls).css({display:"block"}),$(".edit_collection_btn."+ls).css({display:"flex"});he=$(".ownProject"),fe=$(".savedProject"),me=$(".repostedProject");fe.css({display:"none"}),me.css({display:"none"}),$("#selectCollection").on("change",function(){cs=$(this).val(),is.css({display:"none"}),$("."+cs).css({display:"block"}),$(".edit_collection_btn."+cs).css({display:"flex"}),fe.css({display:"none"}),me.css({display:"none"}),console.log(cs)}),$("#profile_project_background_color").on("change",function(){$("#color_was_chosen").val("true")}),$(".project_action_btn.btn_p_submit").each(function(){$(this).click(function(){var e=$(this).parent().children("input[name=action]").val(),s=$(this).parent().children("input[name=username]").val(),t=$(this).parent().children("input[name=project_id]").val(),o=$(this).parent().children("input[name=project_owner]").val(),n=$(this).children().children();n.hasClass("fa-heart")?(n.removeClass("fa-heart"),n.addClass("fa-heart-o")):n.hasClass("fa-heart-o")?(n.removeClass("fa-heart-o"),n.addClass("fa-heart")):n.hasClass("fa-bookmark")?(n.removeClass("fa-bookmark"),n.addClass("fa-bookmark-o")):(n.removeClass("fa-bookmark-o"),n.addClass("fa-bookmark")),$.post(e,{username:s,project_id:t,project_owner:o,ajax:!0},function(e,s){})})}),$("#repostForm").submit(function(e){e.preventDefault()}),$("#unrepostForm").submit(function(e){e.preventDefault()}),$("#repostForm .repost_submit").click(function(){$(".detailsRepostModal").css({display:"none"});var e=$("#flashMsg");e.append('<div class="success__msg"><p>Reposted project.</p><p class="error__exit">×</p></div>'),setTimeout(function(){$(e).remove()},3e3),$.post($("#repostForm").attr("action"),{username:$("#repostUsername").val(),project_id:$("#repostProjectId").val(),project_owner:$("#repostProjectOwner").val(),repost_to:$("#repostForm select").val(),ajax:!0},function(e,s){})}),$("#unrepostForm .unrepost_btn").click(function(){if($("#unrepostForm").attr("action")){$(".detailsRepostModal").css({display:"none"});var e=$("#flashMsg");e.append('<div class="success__msg"><p>Unreposted project.</p><p class="error__exit">×</p></div>'),setTimeout(function(){$(e).remove()},3e3),$.post($("#unrepostForm").attr("action"),{username:$("#unrepostUsername").val(),project_id:$("#unrepostProjectId").val(),ajax:!0},function(e,s){})}});var rs=$(".following_index_feed"),ds=$(".suggested_index_feed"),ps=$("#indexFollowingBtn"),us=$("#indexSuggestedBtn");us.click(function(){ds.css({display:"block"}),rs.css({display:"none"}),ps.css({"font-weight":"normal","font-size":"14px"}),us.css({"font-weight":"bold","font-size":"16px"})}),ps.click(function(){rs.css({display:"block"}),ds.css({display:"none"}),us.css({"font-weight":"normal","font-size":"14px"}),ps.css({"font-weight":"bold","font-size":"16px"})})});